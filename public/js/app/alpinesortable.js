var zi=Object.create;var Xn=Object.defineProperty;var Gi=Object.getOwnPropertyDescriptor;var Bi=Object.getOwnPropertyNames;var Vi=Object.getPrototypeOf,qi=Object.prototype.hasOwnProperty;var ji=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ki=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Bi(t))!qi.call(e,s)&&s!==i&&Xn(e,s,{get:()=>t[s],enumerable:!(n=Gi(t,s))||n.enumerable});return e};var $i=(e,t,i)=>(i=e!=null?zi(Vi(e)):{},Ki(t||!e||!e.__esModule?Xn(i,"default",{value:e,enumerable:!0}):i,e));var ui=ji((Dr,Xe)=>{(function(e,t,i,n){"use strict";var s=["","webkit","Moz","MS","ms","o"],l=t.createElement("div"),c="function",h=Math.round,f=Math.abs,d=Date.now;function m(r,o,a){return setTimeout(P(r,a),o)}function v(r,o,a){return Array.isArray(r)?(E(r,a[o],a),!0):!1}function E(r,o,a){var u;if(r)if(r.forEach)r.forEach(o,a);else if(r.length!==n)for(u=0;u<r.length;)o.call(a,r[u],u,r),u++;else for(u in r)r.hasOwnProperty(u)&&o.call(a,r[u],u,r)}function C(r,o,a){var u="DEPRECATED METHOD: "+o+`
`+a+` AT 
`;return function(){var p=new Error("get-stack-trace"),b=p&&p.stack?p.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",I=e.console&&(e.console.warn||e.console.log);return I&&I.call(e.console,u,b),r.apply(this,arguments)}}var w;typeof Object.assign!="function"?w=function(o){if(o===n||o===null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(o),u=1;u<arguments.length;u++){var p=arguments[u];if(p!==n&&p!==null)for(var b in p)p.hasOwnProperty(b)&&(a[b]=p[b])}return a}:w=Object.assign;var S=C(function(o,a,u){for(var p=Object.keys(a),b=0;b<p.length;)(!u||u&&o[p[b]]===n)&&(o[p[b]]=a[p[b]]),b++;return o},"extend","Use `assign`."),N=C(function(o,a){return S(o,a,!0)},"merge","Use `assign`.");function D(r,o,a){var u=o.prototype,p;p=r.prototype=Object.create(u),p.constructor=r,p._super=u,a&&w(p,a)}function P(r,o){return function(){return r.apply(o,arguments)}}function L(r,o){return typeof r==c?r.apply(o&&o[0]||n,o):r}function X(r,o){return r===n?o:r}function it(r,o,a){E(Y(o),function(u){r.addEventListener(u,a,!1)})}function B(r,o,a){E(Y(o),function(u){r.removeEventListener(u,a,!1)})}function dt(r,o){for(;r;){if(r==o)return!0;r=r.parentNode}return!1}function J(r,o){return r.indexOf(o)>-1}function Y(r){return r.trim().split(/\s+/g)}function rt(r,o,a){if(r.indexOf&&!a)return r.indexOf(o);for(var u=0;u<r.length;){if(a&&r[u][a]==o||!a&&r[u]===o)return u;u++}return-1}function tt(r){return Array.prototype.slice.call(r,0)}function It(r,o,a){for(var u=[],p=[],b=0;b<r.length;){var I=o?r[b][o]:r[b];rt(p,I)<0&&u.push(r[b]),p[b]=I,b++}return a&&(o?u=u.sort(function(W,q){return W[o]>q[o]}):u=u.sort()),u}function K(r,o){for(var a,u,p=o[0].toUpperCase()+o.slice(1),b=0;b<s.length;){if(a=s[b],u=a?a+p:o,u in r)return u;b++}return n}var Tt=1;function Rt(){return Tt++}function lt(r){var o=r.ownerDocument||r;return o.defaultView||o.parentWindow||e}var Ut=/mobile|tablet|ip(ad|hone|od)|android/i,At="ontouchstart"in e,We=K(e,"PointerEvent")!==n,En=At&&Ut.test(navigator.userAgent),Ot="touch",ze="pen",Ge="mouse",pi="kinect",gi=25,V=1,Lt=2,F=4,$=8,pe=1,Kt=2,$t=4,Zt=8,Qt=16,pt=Kt|$t,Ft=Zt|Qt,Tn=pt|Ft,yn=["x","y"],ge=["clientX","clientY"];function ot(r,o){var a=this;this.manager=r,this.callback=o,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(u){L(r.options.enable,[r])&&a.handler(u)},this.init()}ot.prototype={handler:function(){},init:function(){this.evEl&&it(this.element,this.evEl,this.domHandler),this.evTarget&&it(this.target,this.evTarget,this.domHandler),this.evWin&&it(lt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&B(this.element,this.evEl,this.domHandler),this.evTarget&&B(this.target,this.evTarget,this.domHandler),this.evWin&&B(lt(this.element),this.evWin,this.domHandler)}};function vi(r){var o,a=r.options.inputClass;return a?o=a:We?o=Ve:En?o=be:At?o=qe:o=me,new o(r,mi)}function mi(r,o,a){var u=a.pointers.length,p=a.changedPointers.length,b=o&V&&u-p===0,I=o&(F|$)&&u-p===0;a.isFirst=!!b,a.isFinal=!!I,b&&(r.session={}),a.eventType=o,bi(r,a),r.emit("hammer.input",a),r.recognize(a),r.session.prevInput=a}function bi(r,o){var a=r.session,u=o.pointers,p=u.length;a.firstInput||(a.firstInput=wn(o)),p>1&&!a.firstMultiple?a.firstMultiple=wn(o):p===1&&(a.firstMultiple=!1);var b=a.firstInput,I=a.firstMultiple,U=I?I.center:b.center,W=o.center=_n(u);o.timeStamp=d(),o.deltaTime=o.timeStamp-b.timeStamp,o.angle=Be(U,W),o.distance=ve(U,W),Ei(a,o),o.offsetDirection=Dn(o.deltaX,o.deltaY);var q=Sn(o.deltaTime,o.deltaX,o.deltaY);o.overallVelocityX=q.x,o.overallVelocityY=q.y,o.overallVelocity=f(q.x)>f(q.y)?q.x:q.y,o.scale=I?wi(I.pointers,u):1,o.rotation=I?yi(I.pointers,u):0,o.maxPointers=a.prevInput?o.pointers.length>a.prevInput.maxPointers?o.pointers.length:a.prevInput.maxPointers:o.pointers.length,Ti(a,o);var vt=r.element;dt(o.srcEvent.target,vt)&&(vt=o.srcEvent.target),o.target=vt}function Ei(r,o){var a=o.center,u=r.offsetDelta||{},p=r.prevDelta||{},b=r.prevInput||{};(o.eventType===V||b.eventType===F)&&(p=r.prevDelta={x:b.deltaX||0,y:b.deltaY||0},u=r.offsetDelta={x:a.x,y:a.y}),o.deltaX=p.x+(a.x-u.x),o.deltaY=p.y+(a.y-u.y)}function Ti(r,o){var a=r.lastInterval||o,u=o.timeStamp-a.timeStamp,p,b,I,U;if(o.eventType!=$&&(u>gi||a.velocity===n)){var W=o.deltaX-a.deltaX,q=o.deltaY-a.deltaY,vt=Sn(u,W,q);b=vt.x,I=vt.y,p=f(vt.x)>f(vt.y)?vt.x:vt.y,U=Dn(W,q),r.lastInterval=o}else p=a.velocity,b=a.velocityX,I=a.velocityY,U=a.direction;o.velocity=p,o.velocityX=b,o.velocityY=I,o.direction=U}function wn(r){for(var o=[],a=0;a<r.pointers.length;)o[a]={clientX:h(r.pointers[a].clientX),clientY:h(r.pointers[a].clientY)},a++;return{timeStamp:d(),pointers:o,center:_n(o),deltaX:r.deltaX,deltaY:r.deltaY}}function _n(r){var o=r.length;if(o===1)return{x:h(r[0].clientX),y:h(r[0].clientY)};for(var a=0,u=0,p=0;p<o;)a+=r[p].clientX,u+=r[p].clientY,p++;return{x:h(a/o),y:h(u/o)}}function Sn(r,o,a){return{x:o/r||0,y:a/r||0}}function Dn(r,o){return r===o?pe:f(r)>=f(o)?r<0?Kt:$t:o<0?Zt:Qt}function ve(r,o,a){a||(a=yn);var u=o[a[0]]-r[a[0]],p=o[a[1]]-r[a[1]];return Math.sqrt(u*u+p*p)}function Be(r,o,a){a||(a=yn);var u=o[a[0]]-r[a[0]],p=o[a[1]]-r[a[1]];return Math.atan2(p,u)*180/Math.PI}function yi(r,o){return Be(o[1],o[0],ge)+Be(r[1],r[0],ge)}function wi(r,o){return ve(o[0],o[1],ge)/ve(r[0],r[1],ge)}var _i={mousedown:V,mousemove:Lt,mouseup:F},Si="mousedown",Di="mousemove mouseup";function me(){this.evEl=Si,this.evWin=Di,this.pressed=!1,ot.apply(this,arguments)}D(me,ot,{handler:function(o){var a=_i[o.type];a&V&&o.button===0&&(this.pressed=!0),a&Lt&&o.which!==1&&(a=F),this.pressed&&(a&F&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[o],changedPointers:[o],pointerType:Ge,srcEvent:o}))}});var Ci={pointerdown:V,pointermove:Lt,pointerup:F,pointercancel:$,pointerout:$},Ii={2:Ot,3:ze,4:Ge,5:pi},Cn="pointerdown",In="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Cn="MSPointerDown",In="MSPointerMove MSPointerUp MSPointerCancel");function Ve(){this.evEl=Cn,this.evWin=In,ot.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}D(Ve,ot,{handler:function(o){var a=this.store,u=!1,p=o.type.toLowerCase().replace("ms",""),b=Ci[p],I=Ii[o.pointerType]||o.pointerType,U=I==Ot,W=rt(a,o.pointerId,"pointerId");b&V&&(o.button===0||U)?W<0&&(a.push(o),W=a.length-1):b&(F|$)&&(u=!0),!(W<0)&&(a[W]=o,this.callback(this.manager,b,{pointers:a,changedPointers:[o],pointerType:I,srcEvent:o}),u&&a.splice(W,1))}});var Ai={touchstart:V,touchmove:Lt,touchend:F,touchcancel:$},Oi="touchstart",Ni="touchstart touchmove touchend touchcancel";function An(){this.evTarget=Oi,this.evWin=Ni,this.started=!1,ot.apply(this,arguments)}D(An,ot,{handler:function(o){var a=Ai[o.type];if(a===V&&(this.started=!0),!!this.started){var u=Pi.call(this,o,a);a&(F|$)&&u[0].length-u[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:u[0],changedPointers:u[1],pointerType:Ot,srcEvent:o})}}});function Pi(r,o){var a=tt(r.touches),u=tt(r.changedTouches);return o&(F|$)&&(a=It(a.concat(u),"identifier",!0)),[a,u]}var Mi={touchstart:V,touchmove:Lt,touchend:F,touchcancel:$},xi="touchstart touchmove touchend touchcancel";function be(){this.evTarget=xi,this.targetIds={},ot.apply(this,arguments)}D(be,ot,{handler:function(o){var a=Mi[o.type],u=Ri.call(this,o,a);u&&this.callback(this.manager,a,{pointers:u[0],changedPointers:u[1],pointerType:Ot,srcEvent:o})}});function Ri(r,o){var a=tt(r.touches),u=this.targetIds;if(o&(V|Lt)&&a.length===1)return u[a[0].identifier]=!0,[a,a];var p,b,I=tt(r.changedTouches),U=[],W=this.target;if(b=a.filter(function(q){return dt(q.target,W)}),o===V)for(p=0;p<b.length;)u[b[p].identifier]=!0,p++;for(p=0;p<I.length;)u[I[p].identifier]&&U.push(I[p]),o&(F|$)&&delete u[I[p].identifier],p++;if(U.length)return[It(b.concat(U),"identifier",!0),U]}var Li=2500,On=25;function qe(){ot.apply(this,arguments);var r=P(this.handler,this);this.touch=new be(this.manager,r),this.mouse=new me(this.manager,r),this.primaryTouch=null,this.lastTouches=[]}D(qe,ot,{handler:function(o,a,u){var p=u.pointerType==Ot,b=u.pointerType==Ge;if(!(b&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(p)Fi.call(this,a,u);else if(b&&ki.call(this,u))return;this.callback(o,a,u)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Fi(r,o){r&V?(this.primaryTouch=o.changedPointers[0].identifier,Nn.call(this,o)):r&(F|$)&&Nn.call(this,o)}function Nn(r){var o=r.changedPointers[0];if(o.identifier===this.primaryTouch){var a={x:o.clientX,y:o.clientY};this.lastTouches.push(a);var u=this.lastTouches,p=function(){var b=u.indexOf(a);b>-1&&u.splice(b,1)};setTimeout(p,Li)}}function ki(r){for(var o=r.srcEvent.clientX,a=r.srcEvent.clientY,u=0;u<this.lastTouches.length;u++){var p=this.lastTouches[u],b=Math.abs(o-p.x),I=Math.abs(a-p.y);if(b<=On&&I<=On)return!0}return!1}var Pn=K(l.style,"touchAction"),Mn=Pn!==n,xn="compute",Rn="auto",je="manipulation",kt="none",Jt="pan-x",te="pan-y",Ee=Xi();function Ke(r,o){this.manager=r,this.set(o)}Ke.prototype={set:function(r){r==xn&&(r=this.compute()),Mn&&this.manager.element.style&&Ee[r]&&(this.manager.element.style[Pn]=r),this.actions=r.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var r=[];return E(this.manager.recognizers,function(o){L(o.options.enable,[o])&&(r=r.concat(o.getTouchAction()))}),Hi(r.join(" "))},preventDefaults:function(r){var o=r.srcEvent,a=r.offsetDirection;if(this.manager.session.prevented){o.preventDefault();return}var u=this.actions,p=J(u,kt)&&!Ee[kt],b=J(u,te)&&!Ee[te],I=J(u,Jt)&&!Ee[Jt];if(p){var U=r.pointers.length===1,W=r.distance<2,q=r.deltaTime<250;if(U&&W&&q)return}if(!(I&&b)&&(p||b&&a&pt||I&&a&Ft))return this.preventSrc(o)},preventSrc:function(r){this.manager.session.prevented=!0,r.preventDefault()}};function Hi(r){if(J(r,kt))return kt;var o=J(r,Jt),a=J(r,te);return o&&a?kt:o||a?o?Jt:te:J(r,je)?je:Rn}function Xi(){if(!Mn)return!1;var r={},o=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(a){r[a]=o?e.CSS.supports("touch-action",a):!0}),r}var Te=1,at=2,Wt=4,Nt=8,yt=Nt,ee=16,gt=32;function wt(r){this.options=w({},this.defaults,r||{}),this.id=Rt(),this.manager=null,this.options.enable=X(this.options.enable,!0),this.state=Te,this.simultaneous={},this.requireFail=[]}wt.prototype={defaults:{},set:function(r){return w(this.options,r),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(r){if(v(r,"recognizeWith",this))return this;var o=this.simultaneous;return r=ye(r,this),o[r.id]||(o[r.id]=r,r.recognizeWith(this)),this},dropRecognizeWith:function(r){return v(r,"dropRecognizeWith",this)?this:(r=ye(r,this),delete this.simultaneous[r.id],this)},requireFailure:function(r){if(v(r,"requireFailure",this))return this;var o=this.requireFail;return r=ye(r,this),rt(o,r)===-1&&(o.push(r),r.requireFailure(this)),this},dropRequireFailure:function(r){if(v(r,"dropRequireFailure",this))return this;r=ye(r,this);var o=rt(this.requireFail,r);return o>-1&&this.requireFail.splice(o,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(r){return!!this.simultaneous[r.id]},emit:function(r){var o=this,a=this.state;function u(p){o.manager.emit(p,r)}a<Nt&&u(o.options.event+Ln(a)),u(o.options.event),r.additionalEvent&&u(r.additionalEvent),a>=Nt&&u(o.options.event+Ln(a))},tryEmit:function(r){if(this.canEmit())return this.emit(r);this.state=gt},canEmit:function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(gt|Te)))return!1;r++}return!0},recognize:function(r){var o=w({},r);if(!L(this.options.enable,[this,o])){this.reset(),this.state=gt;return}this.state&(yt|ee|gt)&&(this.state=Te),this.state=this.process(o),this.state&(at|Wt|Nt|ee)&&this.tryEmit(o)},process:function(r){},getTouchAction:function(){},reset:function(){}};function Ln(r){return r&ee?"cancel":r&Nt?"end":r&Wt?"move":r&at?"start":""}function Fn(r){return r==Qt?"down":r==Zt?"up":r==Kt?"left":r==$t?"right":""}function ye(r,o){var a=o.manager;return a?a.get(r):r}function ct(){wt.apply(this,arguments)}D(ct,wt,{defaults:{pointers:1},attrTest:function(r){var o=this.options.pointers;return o===0||r.pointers.length===o},process:function(r){var o=this.state,a=r.eventType,u=o&(at|Wt),p=this.attrTest(r);return u&&(a&$||!p)?o|ee:u||p?a&F?o|Nt:o&at?o|Wt:at:gt}});function we(){ct.apply(this,arguments),this.pX=null,this.pY=null}D(we,ct,{defaults:{event:"pan",threshold:10,pointers:1,direction:Tn},getTouchAction:function(){var r=this.options.direction,o=[];return r&pt&&o.push(te),r&Ft&&o.push(Jt),o},directionTest:function(r){var o=this.options,a=!0,u=r.distance,p=r.direction,b=r.deltaX,I=r.deltaY;return p&o.direction||(o.direction&pt?(p=b===0?pe:b<0?Kt:$t,a=b!=this.pX,u=Math.abs(r.deltaX)):(p=I===0?pe:I<0?Zt:Qt,a=I!=this.pY,u=Math.abs(r.deltaY))),r.direction=p,a&&u>o.threshold&&p&o.direction},attrTest:function(r){return ct.prototype.attrTest.call(this,r)&&(this.state&at||!(this.state&at)&&this.directionTest(r))},emit:function(r){this.pX=r.deltaX,this.pY=r.deltaY;var o=Fn(r.direction);o&&(r.additionalEvent=this.options.event+o),this._super.emit.call(this,r)}});function $e(){ct.apply(this,arguments)}D($e,ct,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(r){return this._super.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||this.state&at)},emit:function(r){if(r.scale!==1){var o=r.scale<1?"in":"out";r.additionalEvent=this.options.event+o}this._super.emit.call(this,r)}});function Ze(){wt.apply(this,arguments),this._timer=null,this._input=null}D(Ze,wt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Rn]},process:function(r){var o=this.options,a=r.pointers.length===o.pointers,u=r.distance<o.threshold,p=r.deltaTime>o.time;if(this._input=r,!u||!a||r.eventType&(F|$)&&!p)this.reset();else if(r.eventType&V)this.reset(),this._timer=m(function(){this.state=yt,this.tryEmit()},o.time,this);else if(r.eventType&F)return yt;return gt},reset:function(){clearTimeout(this._timer)},emit:function(r){this.state===yt&&(r&&r.eventType&F?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}});function Qe(){ct.apply(this,arguments)}D(Qe,ct,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(r){return this._super.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||this.state&at)}});function Je(){ct.apply(this,arguments)}D(Je,ct,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:pt|Ft,pointers:1},getTouchAction:function(){return we.prototype.getTouchAction.call(this)},attrTest:function(r){var o=this.options.direction,a;return o&(pt|Ft)?a=r.overallVelocity:o&pt?a=r.overallVelocityX:o&Ft&&(a=r.overallVelocityY),this._super.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers==this.options.pointers&&f(a)>this.options.velocity&&r.eventType&F},emit:function(r){var o=Fn(r.offsetDirection);o&&this.manager.emit(this.options.event+o,r),this.manager.emit(this.options.event,r)}});function _e(){wt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}D(_e,wt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[je]},process:function(r){var o=this.options,a=r.pointers.length===o.pointers,u=r.distance<o.threshold,p=r.deltaTime<o.time;if(this.reset(),r.eventType&V&&this.count===0)return this.failTimeout();if(u&&p&&a){if(r.eventType!=F)return this.failTimeout();var b=this.pTime?r.timeStamp-this.pTime<o.interval:!0,I=!this.pCenter||ve(this.pCenter,r.center)<o.posThreshold;this.pTime=r.timeStamp,this.pCenter=r.center,!I||!b?this.count=1:this.count+=1,this._input=r;var U=this.count%o.taps;if(U===0)return this.hasRequireFailures()?(this._timer=m(function(){this.state=yt,this.tryEmit()},o.interval,this),at):yt}return gt},failTimeout:function(){return this._timer=m(function(){this.state=gt},this.options.interval,this),gt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==yt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function _t(r,o){return o=o||{},o.recognizers=X(o.recognizers,_t.defaults.preset),new tn(r,o)}_t.VERSION="2.0.7",_t.defaults={domEvents:!1,touchAction:xn,enable:!0,inputTarget:null,inputClass:null,preset:[[Qe,{enable:!1}],[$e,{enable:!1},["rotate"]],[Je,{direction:pt}],[we,{direction:pt},["swipe"]],[_e],[_e,{event:"doubletap",taps:2},["tap"]],[Ze]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Yi=1,kn=2;function tn(r,o){this.options=w({},_t.defaults,o||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=vi(this),this.touchAction=new Ke(this,this.options.touchAction),Hn(this,!0),E(this.options.recognizers,function(a){var u=this.add(new a[0](a[1]));a[2]&&u.recognizeWith(a[2]),a[3]&&u.requireFailure(a[3])},this)}tn.prototype={set:function(r){return w(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},stop:function(r){this.session.stopped=r?kn:Yi},recognize:function(r){var o=this.session;if(!o.stopped){this.touchAction.preventDefaults(r);var a,u=this.recognizers,p=o.curRecognizer;(!p||p&&p.state&yt)&&(p=o.curRecognizer=null);for(var b=0;b<u.length;)a=u[b],o.stopped!==kn&&(!p||a==p||a.canRecognizeWith(p))?a.recognize(r):a.reset(),!p&&a.state&(at|Wt|Nt)&&(p=o.curRecognizer=a),b++}},get:function(r){if(r instanceof wt)return r;for(var o=this.recognizers,a=0;a<o.length;a++)if(o[a].options.event==r)return o[a];return null},add:function(r){if(v(r,"add",this))return this;var o=this.get(r.options.event);return o&&this.remove(o),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},remove:function(r){if(v(r,"remove",this))return this;if(r=this.get(r),r){var o=this.recognizers,a=rt(o,r);a!==-1&&(o.splice(a,1),this.touchAction.update())}return this},on:function(r,o){if(r!==n&&o!==n){var a=this.handlers;return E(Y(r),function(u){a[u]=a[u]||[],a[u].push(o)}),this}},off:function(r,o){if(r!==n){var a=this.handlers;return E(Y(r),function(u){o?a[u]&&a[u].splice(rt(a[u],o),1):delete a[u]}),this}},emit:function(r,o){this.options.domEvents&&Ui(r,o);var a=this.handlers[r]&&this.handlers[r].slice();if(!(!a||!a.length)){o.type=r,o.preventDefault=function(){o.srcEvent.preventDefault()};for(var u=0;u<a.length;)a[u](o),u++}},destroy:function(){this.element&&Hn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Hn(r,o){var a=r.element;if(a.style){var u;E(r.options.cssProps,function(p,b){u=K(a.style,b),o?(r.oldCssProps[u]=a.style[u],a.style[u]=p):a.style[u]=r.oldCssProps[u]||""}),o||(r.oldCssProps={})}}function Ui(r,o){var a=t.createEvent("Event");a.initEvent(r,!0,!0),a.gesture=o,o.target.dispatchEvent(a)}w(_t,{INPUT_START:V,INPUT_MOVE:Lt,INPUT_END:F,INPUT_CANCEL:$,STATE_POSSIBLE:Te,STATE_BEGAN:at,STATE_CHANGED:Wt,STATE_ENDED:Nt,STATE_RECOGNIZED:yt,STATE_CANCELLED:ee,STATE_FAILED:gt,DIRECTION_NONE:pe,DIRECTION_LEFT:Kt,DIRECTION_RIGHT:$t,DIRECTION_UP:Zt,DIRECTION_DOWN:Qt,DIRECTION_HORIZONTAL:pt,DIRECTION_VERTICAL:Ft,DIRECTION_ALL:Tn,Manager:tn,Input:ot,TouchAction:Ke,TouchInput:be,MouseInput:me,PointerEventInput:Ve,TouchMouseInput:qe,SingleTouchInput:An,Recognizer:wt,AttrRecognizer:ct,Tap:_e,Pan:we,Swipe:Je,Pinch:$e,Rotate:Qe,Press:Ze,on:it,off:B,each:E,merge:N,extend:S,assign:w,inherit:D,bindFn:P,prefixed:K});var Wi=typeof e<"u"?e:typeof self<"u"?self:{};Wi.Hammer=_t,typeof define=="function"&&define.amd?define(function(){return _t}):typeof Xe<"u"&&Xe.exports?Xe.exports=_t:e[i]=_t})(window,document,"Hammer")});function Yn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,n)}return i}function bt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Yn(Object(i),!0).forEach(function(n){Zi(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Yn(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Ae(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ae=function(t){return typeof t}:Ae=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(e)}function Zi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Dt(){return Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Dt.apply(this,arguments)}function Qi(e,t){if(e==null)return{};var i={},n=Object.keys(e),s,l;for(l=0;l<n.length;l++)s=n[l],!(t.indexOf(s)>=0)&&(i[s]=e[s]);return i}function Ji(e,t){if(e==null)return{};var i=Qi(e,t),n,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var tr="1.15.6";function St(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Ct=St(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ue=St(/Edge/i),Un=St(/firefox/i),oe=St(/safari/i)&&!St(/chrome/i)&&!St(/android/i),gn=St(/iP(ad|od|hone)/i),Kn=St(/chrome/i)&&St(/android/i),$n={capture:!1,passive:!1};function O(e,t,i){e.addEventListener(t,i,!Ct&&$n)}function A(e,t,i){e.removeEventListener(t,i,!Ct&&$n)}function xe(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Zn(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ft(e,t,i,n){if(e){i=i||document;do{if(t!=null&&(t[0]===">"?e.parentNode===i&&xe(e,t):xe(e,t))||n&&e===i)return e;if(e===i)break}while(e=Zn(e))}return null}var Wn=/\s+/g;function et(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(Wn," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(Wn," ")}}function T(e,t,i){var n=e&&e.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),t===void 0?i:i[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=i+(typeof i=="string"?"":"px")}}function qt(e,t){var i="";if(typeof e=="string")i=e;else do{var n=T(e,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function Qn(e,t,i){if(e){var n=e.getElementsByTagName(t),s=0,l=n.length;if(i)for(;s<l;s++)i(n[s],s);return n}return[]}function mt(){var e=document.scrollingElement;return e||document.documentElement}function H(e,t,i,n,s){if(!(!e.getBoundingClientRect&&e!==window)){var l,c,h,f,d,m,v;if(e!==window&&e.parentNode&&e!==mt()?(l=e.getBoundingClientRect(),c=l.top,h=l.left,f=l.bottom,d=l.right,m=l.height,v=l.width):(c=0,h=0,f=window.innerHeight,d=window.innerWidth,m=window.innerHeight,v=window.innerWidth),(t||i)&&e!==window&&(s=s||e.parentNode,!Ct))do if(s&&s.getBoundingClientRect&&(T(s,"transform")!=="none"||i&&T(s,"position")!=="static")){var E=s.getBoundingClientRect();c-=E.top+parseInt(T(s,"border-top-width")),h-=E.left+parseInt(T(s,"border-left-width")),f=c+l.height,d=h+l.width;break}while(s=s.parentNode);if(n&&e!==window){var C=qt(s||e),w=C&&C.a,S=C&&C.d;C&&(c/=S,h/=w,v/=w,m/=S,f=c+m,d=h+v)}return{top:c,left:h,bottom:f,right:d,width:v,height:m}}}function zn(e,t,i){for(var n=xt(e,!0),s=H(e)[t];n;){var l=H(n)[i],c=void 0;if(i==="top"||i==="left"?c=s>=l:c=s<=l,!c)return n;if(n===mt())break;n=xt(n,!1)}return!1}function jt(e,t,i,n){for(var s=0,l=0,c=e.children;l<c.length;){if(c[l].style.display!=="none"&&c[l]!==y.ghost&&(n||c[l]!==y.dragged)&&ft(c[l],i.draggable,e,!1)){if(s===t)return c[l];s++}l++}return null}function vn(e,t){for(var i=e.lastElementChild;i&&(i===y.ghost||T(i,"display")==="none"||t&&!xe(i,t));)i=i.previousElementSibling;return i||null}function st(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==y.clone&&(!t||xe(e,t))&&i++;return i}function Gn(e){var t=0,i=0,n=mt();if(e)do{var s=qt(e),l=s.a,c=s.d;t+=e.scrollLeft*l,i+=e.scrollTop*c}while(e!==n&&(e=e.parentNode));return[t,i]}function er(e,t){for(var i in e)if(e.hasOwnProperty(i)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i)}return-1}function xt(e,t){if(!e||!e.getBoundingClientRect)return mt();var i=e,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=T(i);if(i.clientWidth<i.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return mt();if(n||t)return i;n=!0}}while(i=i.parentNode);return mt()}function nr(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function en(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ae;function Jn(e,t){return function(){if(!ae){var i=arguments,n=this;i.length===1?e.call(n,i[0]):e.apply(n,i),ae=setTimeout(function(){ae=void 0},t)}}}function ir(){clearTimeout(ae),ae=void 0}function ti(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function ei(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function ni(e,t,i){var n={};return Array.from(e.children).forEach(function(s){var l,c,h,f;if(!(!ft(s,t.draggable,e,!1)||s.animated||s===i)){var d=H(s);n.left=Math.min((l=n.left)!==null&&l!==void 0?l:1/0,d.left),n.top=Math.min((c=n.top)!==null&&c!==void 0?c:1/0,d.top),n.right=Math.max((h=n.right)!==null&&h!==void 0?h:-1/0,d.right),n.bottom=Math.max((f=n.bottom)!==null&&f!==void 0?f:-1/0,d.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Q="Sortable"+new Date().getTime();function rr(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(T(s,"display")==="none"||s===y.ghost)){e.push({target:s,rect:H(s)});var l=bt({},e[e.length-1].rect);if(s.thisAnimationDuration){var c=qt(s,!0);c&&(l.top-=c.f,l.left-=c.e)}s.fromRect=l}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(er(e,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var l=!1,c=0;e.forEach(function(h){var f=0,d=h.target,m=d.fromRect,v=H(d),E=d.prevFromRect,C=d.prevToRect,w=h.rect,S=qt(d,!0);S&&(v.top-=S.f,v.left-=S.e),d.toRect=v,d.thisAnimationDuration&&en(E,v)&&!en(m,v)&&(w.top-v.top)/(w.left-v.left)===(m.top-v.top)/(m.left-v.left)&&(f=ar(w,E,C,s.options)),en(v,m)||(d.prevFromRect=m,d.prevToRect=v,f||(f=s.options.animation),s.animate(d,w,v,f)),f&&(l=!0,c=Math.max(c,f),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},f),d.thisAnimationDuration=f)}),clearTimeout(t),l?t=setTimeout(function(){typeof n=="function"&&n()},c):typeof n=="function"&&n(),e=[]},animate:function(n,s,l,c){if(c){T(n,"transition",""),T(n,"transform","");var h=qt(this.el),f=h&&h.a,d=h&&h.d,m=(s.left-l.left)/(f||1),v=(s.top-l.top)/(d||1);n.animatingX=!!m,n.animatingY=!!v,T(n,"transform","translate3d("+m+"px,"+v+"px,0)"),this.forRepaintDummy=or(n),T(n,"transition","transform "+c+"ms"+(this.options.easing?" "+this.options.easing:"")),T(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){T(n,"transition",""),T(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},c)}}}}function or(e){return e.offsetWidth}function ar(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}var zt=[],nn={initializeByDefault:!0},fe={mount:function(t){for(var i in nn)nn.hasOwnProperty(i)&&!(i in t)&&(t[i]=nn[i]);zt.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),zt.push(t)},pluginEvent:function(t,i,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var l=t+"Global";zt.forEach(function(c){i[c.pluginName]&&(i[c.pluginName][l]&&i[c.pluginName][l](bt({sortable:i},n)),i.options[c.pluginName]&&i[c.pluginName][t]&&i[c.pluginName][t](bt({sortable:i},n)))})},initializePlugins:function(t,i,n,s){zt.forEach(function(h){var f=h.pluginName;if(!(!t.options[f]&&!h.initializeByDefault)){var d=new h(t,i,t.options);d.sortable=t,d.options=t.options,t[f]=d,Dt(n,d.defaults)}});for(var l in t.options)if(t.options.hasOwnProperty(l)){var c=this.modifyOption(t,l,t.options[l]);typeof c<"u"&&(t.options[l]=c)}},getEventProperties:function(t,i){var n={};return zt.forEach(function(s){typeof s.eventProperties=="function"&&Dt(n,s.eventProperties.call(i[s.pluginName],t))}),n},modifyOption:function(t,i,n){var s;return zt.forEach(function(l){t[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[i]=="function"&&(s=l.optionListeners[i].call(t[l.pluginName],n))}),s}};function sr(e){var t=e.sortable,i=e.rootEl,n=e.name,s=e.targetEl,l=e.cloneEl,c=e.toEl,h=e.fromEl,f=e.oldIndex,d=e.newIndex,m=e.oldDraggableIndex,v=e.newDraggableIndex,E=e.originalEvent,C=e.putSortable,w=e.extraEventProperties;if(t=t||i&&i[Q],!!t){var S,N=t.options,D="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ct&&!ue?S=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(n,!0,!0)),S.to=c||i,S.from=h||i,S.item=s||i,S.clone=l,S.oldIndex=f,S.newIndex=d,S.oldDraggableIndex=m,S.newDraggableIndex=v,S.originalEvent=E,S.pullMode=C?C.lastPutMode:void 0;var P=bt(bt({},w),fe.getEventProperties(n,t));for(var L in P)S[L]=P[L];i&&i.dispatchEvent(S),N[D]&&N[D].call(t,S)}}var lr=["evt"],Z=function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,l=Ji(n,lr);fe.pluginEvent.bind(y)(t,i,bt({dragEl:g,parentEl:R,ghostEl:_,rootEl:M,nextEl:Yt,lastDownEl:Oe,cloneEl:x,cloneHidden:Mt,dragStarted:ne,putSortable:z,activeSortable:y.active,originalEvent:s,oldIndex:Vt,oldDraggableIndex:se,newIndex:nt,newDraggableIndex:Pt,hideGhostForTarget:ai,unhideGhostForTarget:si,cloneNowHidden:function(){Mt=!0},cloneNowShown:function(){Mt=!1},dispatchSortableEvent:function(h){j({sortable:i,name:h,originalEvent:s})}},l))};function j(e){sr(bt({putSortable:z,cloneEl:x,targetEl:g,rootEl:M,oldIndex:Vt,oldDraggableIndex:se,newIndex:nt,newDraggableIndex:Pt},e))}var g,R,_,M,Yt,Oe,x,Mt,Vt,nt,se,Pt,Se,z,Bt=!1,Re=!1,Le=[],Ht,ut,rn,on,Bn,Vn,ne,Gt,le,ce=!1,De=!1,Ne,G,an=[],fn=!1,Fe=[],He=typeof document<"u",Ce=gn,qn=ue||Ct?"cssFloat":"float",cr=He&&!Kn&&!gn&&"draggable"in document.createElement("div"),ii=function(){if(He){if(Ct)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),ri=function(t,i){var n=T(t),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=jt(t,0,i),c=jt(t,1,i),h=l&&T(l),f=c&&T(c),d=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+H(l).width,m=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+H(c).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&h.float&&h.float!=="none"){var v=h.float==="left"?"left":"right";return c&&(f.clear==="both"||f.clear===v)?"vertical":"horizontal"}return l&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||d>=s&&n[qn]==="none"||c&&n[qn]==="none"&&d+m>s)?"vertical":"horizontal"},ur=function(t,i,n){var s=n?t.left:t.top,l=n?t.right:t.bottom,c=n?t.width:t.height,h=n?i.left:i.top,f=n?i.right:i.bottom,d=n?i.width:i.height;return s===h||l===f||s+c/2===h+d/2},fr=function(t,i){var n;return Le.some(function(s){var l=s[Q].options.emptyInsertThreshold;if(!(!l||vn(s))){var c=H(s),h=t>=c.left-l&&t<=c.right+l,f=i>=c.top-l&&i<=c.bottom+l;if(h&&f)return n=s}}),n},oi=function(t){function i(l,c){return function(h,f,d,m){var v=h.options.group.name&&f.options.group.name&&h.options.group.name===f.options.group.name;if(l==null&&(c||v))return!0;if(l==null||l===!1)return!1;if(c&&l==="clone")return l;if(typeof l=="function")return i(l(h,f,d,m),c)(h,f,d,m);var E=(c?h:f).options.group.name;return l===!0||typeof l=="string"&&l===E||l.join&&l.indexOf(E)>-1}}var n={},s=t.group;(!s||Ae(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=i(s.pull,!0),n.checkPut=i(s.put),n.revertClone=s.revertClone,t.group=n},ai=function(){!ii&&_&&T(_,"display","none")},si=function(){!ii&&_&&T(_,"display","")};He&&!Kn&&document.addEventListener("click",function(e){if(Re)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Re=!1,!1},!0);var Xt=function(t){if(g){t=t.touches?t.touches[0]:t;var i=fr(t.clientX,t.clientY);if(i){var n={};for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[Q]._onDragOver(n)}}},hr=function(t){g&&g.parentNode[Q]._isOutsideThisEl(t.target)};function y(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Dt({},t),e[Q]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ri(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(c,h){c.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:y.supportPointer!==!1&&"PointerEvent"in window&&(!oe||gn),emptyInsertThreshold:5};fe.initializePlugins(this,e,i);for(var n in i)!(n in t)&&(t[n]=i[n]);oi(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:cr,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?O(e,"pointerdown",this._onTapStart):(O(e,"mousedown",this._onTapStart),O(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(O(e,"dragover",this),O(e,"dragenter",this)),Le.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Dt(this,rr())}y.prototype={constructor:y,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Gt=null)},_getDirection:function(t,i){return typeof this.options.direction=="function"?this.options.direction.call(this,t,i,g):this.options.direction},_onTapStart:function(t){if(t.cancelable){var i=this,n=this.el,s=this.options,l=s.preventOnFilter,c=t.type,h=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,f=(h||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||f,m=s.filter;if(Tr(n),!g&&!(/mousedown|pointerdown/.test(c)&&t.button!==0||s.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&oe&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=ft(f,s.draggable,n,!1),!(f&&f.animated)&&Oe!==f)){if(Vt=st(f),se=st(f,s.draggable),typeof m=="function"){if(m.call(this,t,f,this)){j({sortable:i,rootEl:d,name:"filter",targetEl:f,toEl:n,fromEl:n}),Z("filter",i,{evt:t}),l&&t.preventDefault();return}}else if(m&&(m=m.split(",").some(function(v){if(v=ft(d,v.trim(),n,!1),v)return j({sortable:i,rootEl:v,name:"filter",targetEl:f,fromEl:n,toEl:n}),Z("filter",i,{evt:t}),!0}),m)){l&&t.preventDefault();return}s.handle&&!ft(d,s.handle,n,!1)||this._prepareDragStart(t,h,f)}}},_prepareDragStart:function(t,i,n){var s=this,l=s.el,c=s.options,h=l.ownerDocument,f;if(n&&!g&&n.parentNode===l){var d=H(n);if(M=l,g=n,R=g.parentNode,Yt=g.nextSibling,Oe=n,Se=c.group,y.dragged=g,Ht={target:g,clientX:(i||t).clientX,clientY:(i||t).clientY},Bn=Ht.clientX-d.left,Vn=Ht.clientY-d.top,this._lastX=(i||t).clientX,this._lastY=(i||t).clientY,g.style["will-change"]="all",f=function(){if(Z("delayEnded",s,{evt:t}),y.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!Un&&s.nativeDraggable&&(g.draggable=!0),s._triggerDragStart(t,i),j({sortable:s,name:"choose",originalEvent:t}),et(g,c.chosenClass,!0)},c.ignore.split(",").forEach(function(m){Qn(g,m.trim(),sn)}),O(h,"dragover",Xt),O(h,"mousemove",Xt),O(h,"touchmove",Xt),c.supportPointer?(O(h,"pointerup",s._onDrop),!this.nativeDraggable&&O(h,"pointercancel",s._onDrop)):(O(h,"mouseup",s._onDrop),O(h,"touchend",s._onDrop),O(h,"touchcancel",s._onDrop)),Un&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),Z("delayStart",this,{evt:t}),c.delay&&(!c.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(ue||Ct))){if(y.eventCanceled){this._onDrop();return}c.supportPointer?(O(h,"pointerup",s._disableDelayedDrag),O(h,"pointercancel",s._disableDelayedDrag)):(O(h,"mouseup",s._disableDelayedDrag),O(h,"touchend",s._disableDelayedDrag),O(h,"touchcancel",s._disableDelayedDrag)),O(h,"mousemove",s._delayedDragTouchMoveHandler),O(h,"touchmove",s._delayedDragTouchMoveHandler),c.supportPointer&&O(h,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(f,c.delay)}else f()}},_delayedDragTouchMoveHandler:function(t){var i=t.touches?t.touches[0]:t;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&sn(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;A(t,"mouseup",this._disableDelayedDrag),A(t,"touchend",this._disableDelayedDrag),A(t,"touchcancel",this._disableDelayedDrag),A(t,"pointerup",this._disableDelayedDrag),A(t,"pointercancel",this._disableDelayedDrag),A(t,"mousemove",this._delayedDragTouchMoveHandler),A(t,"touchmove",this._delayedDragTouchMoveHandler),A(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||t.pointerType=="touch"&&t,!this.nativeDraggable||i?this.options.supportPointer?O(document,"pointermove",this._onTouchMove):i?O(document,"touchmove",this._onTouchMove):O(document,"mousemove",this._onTouchMove):(O(g,"dragend",this),O(M,"dragstart",this._onDragStart));try{document.selection?Pe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,i){if(Bt=!1,M&&g){Z("dragStarted",this,{evt:i}),this.nativeDraggable&&O(document,"dragover",hr);var n=this.options;!t&&et(g,n.dragClass,!1),et(g,n.ghostClass,!0),y.active=this,t&&this._appendGhost(),j({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(ut){this._lastX=ut.clientX,this._lastY=ut.clientY,ai();for(var t=document.elementFromPoint(ut.clientX,ut.clientY),i=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ut.clientX,ut.clientY),t!==i);)i=t;if(g.parentNode[Q]._isOutsideThisEl(t),i)do{if(i[Q]){var n=void 0;if(n=i[Q]._onDragOver({clientX:ut.clientX,clientY:ut.clientY,target:t,rootEl:i}),n&&!this.options.dragoverBubble)break}t=i}while(i=Zn(i));si()}},_onTouchMove:function(t){if(Ht){var i=this.options,n=i.fallbackTolerance,s=i.fallbackOffset,l=t.touches?t.touches[0]:t,c=_&&qt(_,!0),h=_&&c&&c.a,f=_&&c&&c.d,d=Ce&&G&&Gn(G),m=(l.clientX-Ht.clientX+s.x)/(h||1)+(d?d[0]-an[0]:0)/(h||1),v=(l.clientY-Ht.clientY+s.y)/(f||1)+(d?d[1]-an[1]:0)/(f||1);if(!y.active&&!Bt){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(_){c?(c.e+=m-(rn||0),c.f+=v-(on||0)):c={a:1,b:0,c:0,d:1,e:m,f:v};var E="matrix(".concat(c.a,",").concat(c.b,",").concat(c.c,",").concat(c.d,",").concat(c.e,",").concat(c.f,")");T(_,"webkitTransform",E),T(_,"mozTransform",E),T(_,"msTransform",E),T(_,"transform",E),rn=m,on=v,ut=l}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!_){var t=this.options.fallbackOnBody?document.body:M,i=H(g,!0,Ce,!0,t),n=this.options;if(Ce){for(G=t;T(G,"position")==="static"&&T(G,"transform")==="none"&&G!==document;)G=G.parentNode;G!==document.body&&G!==document.documentElement?(G===document&&(G=mt()),i.top+=G.scrollTop,i.left+=G.scrollLeft):G=mt(),an=Gn(G)}_=g.cloneNode(!0),et(_,n.ghostClass,!1),et(_,n.fallbackClass,!0),et(_,n.dragClass,!0),T(_,"transition",""),T(_,"transform",""),T(_,"box-sizing","border-box"),T(_,"margin",0),T(_,"top",i.top),T(_,"left",i.left),T(_,"width",i.width),T(_,"height",i.height),T(_,"opacity","0.8"),T(_,"position",Ce?"absolute":"fixed"),T(_,"zIndex","100000"),T(_,"pointerEvents","none"),y.ghost=_,t.appendChild(_),T(_,"transform-origin",Bn/parseInt(_.style.width)*100+"% "+Vn/parseInt(_.style.height)*100+"%")}},_onDragStart:function(t,i){var n=this,s=t.dataTransfer,l=n.options;if(Z("dragStart",this,{evt:t}),y.eventCanceled){this._onDrop();return}Z("setupClone",this),y.eventCanceled||(x=ei(g),x.removeAttribute("id"),x.draggable=!1,x.style["will-change"]="",this._hideClone(),et(x,this.options.chosenClass,!1),y.clone=x),n.cloneId=Pe(function(){Z("clone",n),!y.eventCanceled&&(n.options.removeCloneOnHide||M.insertBefore(x,g),n._hideClone(),j({sortable:n,name:"clone"}))}),!i&&et(g,l.dragClass,!0),i?(Re=!0,n._loopId=setInterval(n._emulateDragOver,50)):(A(document,"mouseup",n._onDrop),A(document,"touchend",n._onDrop),A(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",l.setData&&l.setData.call(n,s,g)),O(document,"drop",n),T(g,"transform","translateZ(0)")),Bt=!0,n._dragStartId=Pe(n._dragStarted.bind(n,i,t)),O(document,"selectstart",n),ne=!0,window.getSelection().removeAllRanges(),oe&&T(document.body,"user-select","none")},_onDragOver:function(t){var i=this.el,n=t.target,s,l,c,h=this.options,f=h.group,d=y.active,m=Se===f,v=h.sort,E=z||d,C,w=this,S=!1;if(fn)return;function N(At,We){Z(At,w,bt({evt:t,isOwner:m,axis:C?"vertical":"horizontal",revert:c,dragRect:s,targetRect:l,canSort:v,fromSortable:E,target:n,completed:P,onMove:function(Ot,ze){return Ie(M,i,g,s,Ot,H(Ot),t,ze)},changed:L},We))}function D(){N("dragOverAnimationCapture"),w.captureAnimationState(),w!==E&&E.captureAnimationState()}function P(At){return N("dragOverCompleted",{insertion:At}),At&&(m?d._hideClone():d._showClone(w),w!==E&&(et(g,z?z.options.ghostClass:d.options.ghostClass,!1),et(g,h.ghostClass,!0)),z!==w&&w!==y.active?z=w:w===y.active&&z&&(z=null),E===w&&(w._ignoreWhileAnimating=n),w.animateAll(function(){N("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==E&&(E.animateAll(),E._ignoreWhileAnimating=null)),(n===g&&!g.animated||n===i&&!n.animated)&&(Gt=null),!h.dragoverBubble&&!t.rootEl&&n!==document&&(g.parentNode[Q]._isOutsideThisEl(t.target),!At&&Xt(t)),!h.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),S=!0}function L(){nt=st(g),Pt=st(g,h.draggable),j({sortable:w,name:"change",toEl:i,newIndex:nt,newDraggableIndex:Pt,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=ft(n,h.draggable,i,!0),N("dragOver"),y.eventCanceled)return S;if(g.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||w._ignoreWhileAnimating===n)return P(!1);if(Re=!1,d&&!h.disabled&&(m?v||(c=R!==M):z===this||(this.lastPutMode=Se.checkPull(this,d,g,t))&&f.checkPut(this,d,g,t))){if(C=this._getDirection(t,n)==="vertical",s=H(g),N("dragOverValid"),y.eventCanceled)return S;if(c)return R=M,D(),this._hideClone(),N("revert"),y.eventCanceled||(Yt?M.insertBefore(g,Yt):M.appendChild(g)),P(!0);var X=vn(i,h.draggable);if(!X||vr(t,C,this)&&!X.animated){if(X===g)return P(!1);if(X&&i===t.target&&(n=X),n&&(l=H(n)),Ie(M,i,g,s,n,l,t,!!n)!==!1)return D(),X&&X.nextSibling?i.insertBefore(g,X.nextSibling):i.appendChild(g),R=i,L(),P(!0)}else if(X&&gr(t,C,this)){var it=jt(i,0,h,!0);if(it===g)return P(!1);if(n=it,l=H(n),Ie(M,i,g,s,n,l,t,!1)!==!1)return D(),i.insertBefore(g,it),R=i,L(),P(!0)}else if(n.parentNode===i){l=H(n);var B=0,dt,J=g.parentNode!==i,Y=!ur(g.animated&&g.toRect||s,n.animated&&n.toRect||l,C),rt=C?"top":"left",tt=zn(n,"top","top")||zn(g,"top","top"),It=tt?tt.scrollTop:void 0;Gt!==n&&(dt=l[rt],ce=!1,De=!Y&&h.invertSwap||J),B=mr(t,n,l,C,Y?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,De,Gt===n);var K;if(B!==0){var Tt=st(g);do Tt-=B,K=R.children[Tt];while(K&&(T(K,"display")==="none"||K===_))}if(B===0||K===n)return P(!1);Gt=n,le=B;var Rt=n.nextElementSibling,lt=!1;lt=B===1;var Ut=Ie(M,i,g,s,n,l,t,lt);if(Ut!==!1)return(Ut===1||Ut===-1)&&(lt=Ut===1),fn=!0,setTimeout(pr,30),D(),lt&&!Rt?i.appendChild(g):n.parentNode.insertBefore(g,lt?Rt:n),tt&&ti(tt,0,It-tt.scrollTop),R=g.parentNode,dt!==void 0&&!De&&(Ne=Math.abs(dt-H(n)[rt])),L(),P(!0)}if(i.contains(g))return P(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){A(document,"mousemove",this._onTouchMove),A(document,"touchmove",this._onTouchMove),A(document,"pointermove",this._onTouchMove),A(document,"dragover",Xt),A(document,"mousemove",Xt),A(document,"touchmove",Xt)},_offUpEvents:function(){var t=this.el.ownerDocument;A(t,"mouseup",this._onDrop),A(t,"touchend",this._onDrop),A(t,"pointerup",this._onDrop),A(t,"pointercancel",this._onDrop),A(t,"touchcancel",this._onDrop),A(document,"selectstart",this)},_onDrop:function(t){var i=this.el,n=this.options;if(nt=st(g),Pt=st(g,n.draggable),Z("drop",this,{evt:t}),R=g&&g.parentNode,nt=st(g),Pt=st(g,n.draggable),y.eventCanceled){this._nulling();return}Bt=!1,De=!1,ce=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),hn(this.cloneId),hn(this._dragStartId),this.nativeDraggable&&(A(document,"drop",this),A(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),oe&&T(document.body,"user-select",""),T(g,"transform",""),t&&(ne&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),_&&_.parentNode&&_.parentNode.removeChild(_),(M===R||z&&z.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),g&&(this.nativeDraggable&&A(g,"dragend",this),sn(g),g.style["will-change"]="",ne&&!Bt&&et(g,z?z.options.ghostClass:this.options.ghostClass,!1),et(g,this.options.chosenClass,!1),j({sortable:this,name:"unchoose",toEl:R,newIndex:null,newDraggableIndex:null,originalEvent:t}),M!==R?(nt>=0&&(j({rootEl:R,name:"add",toEl:R,fromEl:M,originalEvent:t}),j({sortable:this,name:"remove",toEl:R,originalEvent:t}),j({rootEl:R,name:"sort",toEl:R,fromEl:M,originalEvent:t}),j({sortable:this,name:"sort",toEl:R,originalEvent:t})),z&&z.save()):nt!==Vt&&nt>=0&&(j({sortable:this,name:"update",toEl:R,originalEvent:t}),j({sortable:this,name:"sort",toEl:R,originalEvent:t})),y.active&&((nt==null||nt===-1)&&(nt=Vt,Pt=se),j({sortable:this,name:"end",toEl:R,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Z("nulling",this),M=g=R=_=Yt=x=Oe=Mt=Ht=ut=ne=nt=Pt=Vt=se=Gt=le=z=Se=y.dragged=y.ghost=y.clone=y.active=null,Fe.forEach(function(t){t.checked=!0}),Fe.length=rn=on=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":g&&(this._onDragOver(t),dr(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],i,n=this.el.children,s=0,l=n.length,c=this.options;s<l;s++)i=n[s],ft(i,c.draggable,this.el,!1)&&t.push(i.getAttribute(c.dataIdAttr)||Er(i));return t},sort:function(t,i){var n={},s=this.el;this.toArray().forEach(function(l,c){var h=s.children[c];ft(h,this.options.draggable,s,!1)&&(n[l]=h)},this),i&&this.captureAnimationState(),t.forEach(function(l){n[l]&&(s.removeChild(n[l]),s.appendChild(n[l]))}),i&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,i){return ft(t,i||this.options.draggable,this.el,!1)},option:function(t,i){var n=this.options;if(i===void 0)return n[t];var s=fe.modifyOption(this,t,i);typeof s<"u"?n[t]=s:n[t]=i,t==="group"&&oi(n)},destroy:function(){Z("destroy",this);var t=this.el;t[Q]=null,A(t,"mousedown",this._onTapStart),A(t,"touchstart",this._onTapStart),A(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(A(t,"dragover",this),A(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Le.splice(Le.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Mt){if(Z("hideClone",this),y.eventCanceled)return;T(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),Mt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Mt){if(Z("showClone",this),y.eventCanceled)return;g.parentNode==M&&!this.options.group.revertClone?M.insertBefore(x,g):Yt?M.insertBefore(x,Yt):M.appendChild(x),this.options.group.revertClone&&this.animate(g,x),T(x,"display",""),Mt=!1}}};function dr(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ie(e,t,i,n,s,l,c,h){var f,d=e[Q],m=d.options.onMove,v;return window.CustomEvent&&!Ct&&!ue?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=t,f.from=e,f.dragged=i,f.draggedRect=n,f.related=s||t,f.relatedRect=l||H(t),f.willInsertAfter=h,f.originalEvent=c,e.dispatchEvent(f),m&&(v=m.call(d,f,c)),v}function sn(e){e.draggable=!1}function pr(){fn=!1}function gr(e,t,i){var n=H(jt(i.el,0,i.options,!0)),s=ni(i.el,i.options,_),l=10;return t?e.clientX<s.left-l||e.clientY<n.top&&e.clientX<n.right:e.clientY<s.top-l||e.clientY<n.bottom&&e.clientX<n.left}function vr(e,t,i){var n=H(vn(i.el,i.options.draggable)),s=ni(i.el,i.options,_),l=10;return t?e.clientX>s.right+l||e.clientY>n.bottom&&e.clientX>n.left:e.clientY>s.bottom+l||e.clientX>n.right&&e.clientY>n.top}function mr(e,t,i,n,s,l,c,h){var f=n?e.clientY:e.clientX,d=n?i.height:i.width,m=n?i.top:i.left,v=n?i.bottom:i.right,E=!1;if(!c){if(h&&Ne<d*s){if(!ce&&(le===1?f>m+d*l/2:f<v-d*l/2)&&(ce=!0),ce)E=!0;else if(le===1?f<m+Ne:f>v-Ne)return-le}else if(f>m+d*(1-s)/2&&f<v-d*(1-s)/2)return br(t)}return E=E||c,E&&(f<m+d*l/2||f>v-d*l/2)?f>m+d/2?1:-1:0}function br(e){return st(g)<st(e)?1:-1}function Er(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function Tr(e){Fe.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&Fe.push(n)}}function Pe(e){return setTimeout(e,0)}function hn(e){return clearTimeout(e)}He&&O(document,"touchmove",function(e){(y.active||Bt)&&e.cancelable&&e.preventDefault()});y.utils={on:O,off:A,css:T,find:Qn,is:function(t,i){return!!ft(t,i,t,!1)},extend:nr,throttle:Jn,closest:ft,toggleClass:et,clone:ei,index:st,nextTick:Pe,cancelNextTick:hn,detectDirection:ri,getChild:jt,expando:Q};y.get=function(e){return e[Q]};y.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(y.utils=bt(bt({},y.utils),n.utils)),fe.mount(n)})};y.create=function(e,t){return new y(e,t)};y.version=tr;var k=[],ie,dn,pn=!1,ln,cn,ke,re;function yr(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):this.options.supportPointer?O(document,"pointermove",this._handleFallbackAutoScroll):n.touches?O(document,"touchmove",this._handleFallbackAutoScroll):O(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):(A(document,"pointermove",this._handleFallbackAutoScroll),A(document,"touchmove",this._handleFallbackAutoScroll),A(document,"mousemove",this._handleFallbackAutoScroll)),jn(),Me(),ir()},nulling:function(){ke=dn=ie=pn=re=ln=cn=null,k.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var s=this,l=(i.touches?i.touches[0]:i).clientX,c=(i.touches?i.touches[0]:i).clientY,h=document.elementFromPoint(l,c);if(ke=i,n||this.options.forceAutoScrollFallback||ue||Ct||oe){un(i,this.options,h,n);var f=xt(h,!0);pn&&(!re||l!==ln||c!==cn)&&(re&&jn(),re=setInterval(function(){var d=xt(document.elementFromPoint(l,c),!0);d!==f&&(f=d,Me()),un(i,s.options,d,n)},10),ln=l,cn=c)}else{if(!this.options.bubbleScroll||xt(h,!0)===mt()){Me();return}un(i,this.options,xt(h,!1),!1)}}},Dt(e,{pluginName:"scroll",initializeByDefault:!0})}function Me(){k.forEach(function(e){clearInterval(e.pid)}),k=[]}function jn(){clearInterval(re)}var un=Jn(function(e,t,i,n){if(t.scroll){var s=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,c=t.scrollSensitivity,h=t.scrollSpeed,f=mt(),d=!1,m;dn!==i&&(dn=i,Me(),ie=t.scroll,m=t.scrollFn,ie===!0&&(ie=xt(i,!0)));var v=0,E=ie;do{var C=E,w=H(C),S=w.top,N=w.bottom,D=w.left,P=w.right,L=w.width,X=w.height,it=void 0,B=void 0,dt=C.scrollWidth,J=C.scrollHeight,Y=T(C),rt=C.scrollLeft,tt=C.scrollTop;C===f?(it=L<dt&&(Y.overflowX==="auto"||Y.overflowX==="scroll"||Y.overflowX==="visible"),B=X<J&&(Y.overflowY==="auto"||Y.overflowY==="scroll"||Y.overflowY==="visible")):(it=L<dt&&(Y.overflowX==="auto"||Y.overflowX==="scroll"),B=X<J&&(Y.overflowY==="auto"||Y.overflowY==="scroll"));var It=it&&(Math.abs(P-s)<=c&&rt+L<dt)-(Math.abs(D-s)<=c&&!!rt),K=B&&(Math.abs(N-l)<=c&&tt+X<J)-(Math.abs(S-l)<=c&&!!tt);if(!k[v])for(var Tt=0;Tt<=v;Tt++)k[Tt]||(k[Tt]={});(k[v].vx!=It||k[v].vy!=K||k[v].el!==C)&&(k[v].el=C,k[v].vx=It,k[v].vy=K,clearInterval(k[v].pid),(It!=0||K!=0)&&(d=!0,k[v].pid=setInterval(function(){n&&this.layer===0&&y.active._onTouchMove(ke);var Rt=k[this.layer].vy?k[this.layer].vy*h:0,lt=k[this.layer].vx?k[this.layer].vx*h:0;typeof m=="function"&&m.call(y.dragged.parentNode[Q],lt,Rt,e,ke,k[this.layer].el)!=="continue"||ti(k[this.layer].el,lt,Rt)}.bind({layer:v}),24))),v++}while(t.bubbleScroll&&E!==f&&(E=xt(E,!1)));pn=d}},30),li=function(t){var i=t.originalEvent,n=t.putSortable,s=t.dragEl,l=t.activeSortable,c=t.dispatchSortableEvent,h=t.hideGhostForTarget,f=t.unhideGhostForTarget;if(i){var d=n||l;h();var m=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,v=document.elementFromPoint(m.clientX,m.clientY);f(),d&&!d.el.contains(v)&&(c("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function mn(){}mn.prototype={startIndex:null,dragStart:function(t){var i=t.oldDraggableIndex;this.startIndex=i},onSpill:function(t){var i=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=jt(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(i,s):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:li};Dt(mn,{pluginName:"revertOnSpill"});function bn(){}bn.prototype={onSpill:function(t){var i=t.dragEl,n=t.putSortable,s=n||this.sortable;s.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),s.animateAll()},drop:li};Dt(bn,{pluginName:"removeOnSpill"});y.mount(new yr);y.mount(bn,mn);var ci=y;var Et=$i(ui(),1),he=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Ye=new WeakMap,fi=new Map,de=new WeakMap,ht=null;function hi({taskId:e,taskTitle:t,currentColumn:i,availableColumns:n}){ht&&(ht.remove(),ht=null);let s=`
        <div id="column-picker-modal" class="fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50" style="animation: fadeIn 0.3s ease;">
            <div class="bg-white dark:bg-zinc-800 rounded-xl shadow-xl max-w-sm w-full mx-4 p-6" style="animation: slideUp 0.3s ease;">
                <!-- Modal Header -->
                <div class="mb-4">
                    <h3 class="text-lg font-semibold text-zinc-900 dark:text-zinc-100">Move Task</h3>
                    <p class="text-sm text-zinc-600 dark:text-zinc-400 mt-1">${t}</p>
                </div>
                
                <!-- Column Options -->
                <div class="space-y-2 mb-6">
                    ${n.map(c=>`
                        <button data-column-id="${c.id}" 
                            class="column-option w-full text-left p-3 rounded-lg border border-zinc-200 dark:border-zinc-600 hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors flex items-center">
                            <div class="w-4 h-4 rounded-full mr-3 ${wr(c.color)}"></div>
                            <span class="font-medium text-zinc-900 dark:text-zinc-100">${c.name}</span>
                        </button>
                    `).join("")}
                </div>
                
                <!-- Cancel Button -->
                <button id="modal-cancel" class="w-full py-2 px-4 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg transition-colors">
                    Cancel
                </button>
            </div>
        </div>
        <style>
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            @keyframes slideUp {
                from { transform: translateY(20px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
        </style>
    `;ht=document.createElement("div"),ht.innerHTML=s,document.body.appendChild(ht);let l=document.getElementById("column-picker-modal");l.addEventListener("click",c=>{c.target===l&&Ue()}),document.getElementById("modal-cancel").addEventListener("click",Ue),l.querySelectorAll(".column-option").forEach(c=>{c.addEventListener("click",()=>{let h=c.dataset.columnId;window.dispatchEvent(new CustomEvent("sortable:sort",{detail:{action:"move",item:e,from:i,to:h,timestamp:Date.now()}})),Ue()})}),document.addEventListener("keydown",di)}function Ue(){ht&&(ht.style.animation="fadeOut 0.2s ease",setTimeout(()=>{ht&&(ht.remove(),ht=null)},200)),document.removeEventListener("keydown",di)}function di(e){e.key==="Escape"&&Ue()}function wr(e){return{zinc:"bg-zinc-500",amber:"bg-amber-500",emerald:"bg-emerald-500"}[e]||"bg-zinc-500"}document.addEventListener("alpine:init",()=>{Alpine.directive("sortable",(e,{expression:t},{evaluate:i,cleanup:n})=>{let s=e.getAttribute("on-sort"),l=e.getAttribute("on-drag"),c=t||e.getAttribute("x-sortable")||"shared";fi.set(c,{onSort:s?h=>i(s,{$event:{detail:h}}):null,onDrag:l?h=>i(l,{$event:{detail:h}}):null}),n(()=>{fi.delete(c)})}),Alpine.directive("sortable-group",(e,{expression:t},{evaluate:i})=>{let n=e.closest("[x-sortable]")?.getAttribute("x-sortable")||"shared",s=!1;if(t)try{if(t==="sort"||t==="sort:true")s=!0;else if(t.includes("sort"))s=!0;else if(t.startsWith("{")||t.includes("sort")){let f=i(t)||{};typeof f=="object"?(f.sort===!0||f.allowSort===!0||f.sortWithinGroup===!0)&&(s=!0):typeof f=="boolean"&&(s=f)}}catch{t.includes("sort")&&!t.includes("sort:false")&&!t.includes("false")&&(s=!0)}e.hasAttribute("data-allow-sort")&&e.getAttribute("data-allow-sort")==="true"&&(s=!0),e.hasAttribute("data-sort")&&e.getAttribute("data-sort")==="true"&&(s=!0);let l=Ye.get(e);l&&(l.destroy(),Ye.delete(e));let c={group:n,sort:s,animation:200,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",...he()&&{handle:".sortable-handle"},preventOnFilter:!1,filter:".no-drag",scrollSensitivity:40,scrollSpeed:15,bubbleScroll:!0,...he()?{delay:0,delayOnTouchStart:!1,touchStartThreshold:999,forceFallback:!0,fallbackTolerance:0,disabled:!1}:{touchStartThreshold:10,forceFallback:!1,fallbackTolerance:5,delayOnTouchStart:!1,delay:0}};c.onStart=function(f){navigator.vibrate&&navigator.vibrate(50),f.item.classList.add("dragging");let d={item:f.item.getAttribute("x-sortable:item")||f.item.dataset.sortableItem,from:f.from.dataset.container,oldIndex:f.oldIndex};window.dispatchEvent(new CustomEvent("sortable:drag",{detail:d})),he()||(document.body.style.overflow="hidden")},c.onEnd=function(f){if(f.item.classList.remove("dragging"),document.body.style.overflow="",!(f.from!==f.to||f.oldIndex!==f.newIndex))return;navigator.vibrate&&f.from!==f.to&&navigator.vibrate([25,25,25]);let m=f.item.getAttribute("x-sortable:item")||f.item.dataset.sortableItem,E={items:Array.from(f.to.children,C=>C.getAttribute("x-sortable:item")||C.dataset.sortableItem).filter(Boolean),from:f.from.dataset.container,to:f.to.dataset.container,oldIndex:f.oldIndex,newIndex:f.newIndex,item:m,wasCrossColumn:f.from!==f.to,timestamp:Date.now()};window.dispatchEvent(new CustomEvent("sortable:sort",{detail:{payload:E}})),window.Livewire?.dispatch&&(this._livewireTimeout&&clearTimeout(this._livewireTimeout),this._livewireTimeout=setTimeout(()=>{window.Livewire.dispatch("sortable:sort",E)},100))};let h=new ci(e,c);return Ye.set(e,h),()=>{h&&(h.destroy(),Ye.delete(e))}}),Alpine.directive("sortable:item",(e,{expression:t})=>{e.setAttribute("x-sortable:item",t),e.setAttribute("data-sortable-item",t),e.hasAttribute("draggable")||e.setAttribute("draggable","true")}),Alpine.directive("sortable:handle",e=>{e.classList.add("sortable-handle"),e.style.cursor="grab",e.setAttribute("aria-label","Drag handle - touch and hold to drag");let t=he(),i=[],n=null,s=m=>{e.style.cursor="grabbing",e.classList.add("handle-active"),m.type==="touchstart"&&navigator.vibrate&&navigator.vibrate(10)},l=()=>{e.style.cursor="grab",e.classList.remove("handle-active")},c=()=>{e.style.cursor="grab",e.classList.remove("handle-active")},h=()=>{navigator.vibrate&&navigator.vibrate(50),e.classList.add("handle-long-press")},f=()=>{n&&(clearTimeout(n),n=null),e.classList.remove("handle-long-press")},d=(m,v,E={passive:!0})=>{e.addEventListener(m,v,E),i.push({event:m,handler:v})};return t?(e.style.touchAction="manipulation",d("touchstart",m=>{s(m),n=setTimeout(h,300)}),d("touchend",()=>{l(),f()}),d("touchcancel",()=>{c(),f()}),d("touchmove",f)):(d("mousedown",s),d("mouseup",l),d("mouseleave",c)),()=>{i.forEach(({event:m,handler:v})=>{e.removeEventListener(m,v)}),i=[],n&&(clearTimeout(n),n=null)}}),Alpine.directive("swipe",(e,{expression:t},{evaluate:i,cleanup:n})=>{if(!he())return()=>{};let s=i(t)||{},{threshold:l=80,velocity:c=.1,onPanStart:h,onPanMove:f,onPanEnd:d,currentColumn:m="unknown",taskId:v,taskTitle:E,availableColumns:C=[]}=s,w=de.get(e);w&&(w.destroy(),de.delete(e));let S=new Et.default(e,{touchAction:"pan-y",recognizers:[[Et.default.Pan,{direction:Et.default.DIRECTION_HORIZONTAL,threshold:5,pointers:1}],[Et.default.Swipe,{direction:Et.default.DIRECTION_HORIZONTAL,velocity:c,threshold:l,pointers:1}]]}),N={startX:0,currentX:0,distance:0,isActive:!1};return S.on("panstart",D=>{console.log("PANSTART:",D.direction,Et.default.DIRECTION_LEFT,Et.default.DIRECTION_RIGHT),(D.direction===Et.default.DIRECTION_LEFT||D.direction===Et.default.DIRECTION_RIGHT)&&(N.isActive=!0,N.startX=D.center.x,N.currentX=D.center.x,N.distance=0,console.log("PAN STARTED - State:",N),navigator.vibrate&&navigator.vibrate(10),h&&i(h,{$event:{detail:{...N,originalEvent:D}}}),e.dispatchEvent(new CustomEvent("swipe:start",{detail:{...N,originalEvent:D}})))}),S.on("panmove",D=>{if(N.isActive&&(N.currentX=D.center.x,N.distance=D.deltaX,e.dispatchEvent(new CustomEvent("swipe:move",{detail:{...N,originalEvent:D}})),f))try{i(f)}catch(P){console.error("Error in onPanMove handler:",P)}}),S.on("panend",D=>{if(N.isActive){N.isActive=!1;let P=Math.abs(N.distance);if(console.log("PANEND - Distance:",N.distance,"Abs:",P,"Threshold:",l),P>l){console.log("THRESHOLD EXCEEDED - Triggering fallback action"),console.log("FALLBACK: Pan detected - showing column picker modal"),navigator.vibrate&&navigator.vibrate([50,50,50]);let L=C.filter(X=>X.id!==m);hi({taskId:v,taskTitle:E,currentColumn:m,availableColumns:L})}if(e.dispatchEvent(new CustomEvent("swipe:end",{detail:{...N,originalEvent:D}})),d)try{i(d)}catch(L){console.error("Error in onPanEnd handler:",L)}N={startX:0,currentX:0,distance:0,isActive:!1}}}),S.on("swiperight swipeleft",D=>{console.log("SWIPE DETECTED!",{taskId:v,taskTitle:E,currentColumn:m}),navigator.vibrate&&navigator.vibrate([50,50,50]);let P=C.filter(L=>L.id!==m);hi({taskId:v,taskTitle:E,currentColumn:m,availableColumns:P})}),de.set(e,S),n(()=>{S&&(S.destroy(),de.delete(e))}),()=>{S&&(S.destroy(),de.delete(e))}})});
/*! Bundled license information:

hammerjs/hammer.js:
  (*! Hammer.JS - v2.0.7 - 2016-04-22
   * http://hammerjs.github.io/
   *
   * Copyright (c) 2016 Jorik Tangelder;
   * Licensed under the MIT license *)

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.6
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/
